<!-- ================================================================== -->
<!-- ARCHIVO 2: web/templates/partials/kiosk/_kiosk_ticket_result.html  -->
<!-- Propósito: Fragmento que muestra el ticket generado.               -->
<!-- ================================================================== -->
<div 
  x-data="{ countdown: 15 }" 
  x-init="
    const timer = setInterval(() => {
      countdown--;
      if (countdown === 0) {
        clearInterval(timer);
        htmx.trigger('#service-selection-wrapper', 'returnToServices');
      }
    }, 1000);
  "
  id="service-selection-wrapper"
  hx-get="/kiosk/{{ company.id }}/services"
  hx-trigger="returnToServices"
  hx-target="#kiosk-content"
  hx-swap="innerHTML"
  class="bg-white p-8 rounded-lg shadow-lg animate-fade-in"
>
  <h2 class="text-2xl font-bold text-slate-800">¡Tu ticket ha sido generado!</h2>
  
  <p class="mt-4 text-6xl font-mono font-bold text-indigo-600 tracking-wider">
    {{ ticket.ticket_number }}
  </p>
  
  <div class="mt-6 text-xl text-slate-600">
    <p>Servicio: <strong class="font-semibold">{{ ticket.service.name }}</strong></p>
  </div>
  
  <div class="mt-6 p-4 rounded-lg" 
       :class="{
         'bg-blue-100 text-blue-800': '{{ ticket.status }}' !== 'pendiente_pago',
         'bg-amber-100 text-amber-800': '{{ ticket.status }}' === 'pendiente_pago'
       }">
    <p class="text-2xl font-semibold">
      {% if ticket.status == 'pendiente_pago' %}
        Por favor, dirígete a <strong class="uppercase">Caja</strong> para realizar tu pago.
      {% else %}
        Por favor, espera en la sala a ser llamado.
      {% endif %}
    </p>
  </div>

  <p class="mt-8 text-sm text-slate-400">
    Regresando a la pantalla principal en <span x-text="countdown" class="font-semibold"></span> segundos...
  </p>
</div>